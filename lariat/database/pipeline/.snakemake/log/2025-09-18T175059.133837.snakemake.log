Assuming unrestricted shared filesystem usage.
None
host: Allens MacBook
Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job stats:
job                      count
---------------------  -------
all                          1
download_annotation          1
download_quantitation        1
make_intervals               1
write_lr_records             1
total                        5

Select jobs to execute...
Execute 1 jobs...
[Thu Sep 18 17:50:59 2025]
localrule make_intervals:
    input: isoformDB/references/grch38.gencode.v29/gene_annotation.gtf.gz
    output: isoformDB/references/grch38.gencode.v29/cannonical_genes.gff
    jobid: 4
    reason: Missing output files: isoformDB/references/grch38.gencode.v29/cannonical_genes.gff; Updated input files: isoformDB/references/grch38.gencode.v29/gene_annotation.gtf.gz
    wildcards: reference_id=grch38.gencode.v29
    resources: tmpdir=/var/folders/tk/bdsgytmn5cb0bfqrftv10n8r0000gq/T, mem_mb=2000, mem_mib=1908, time=00:30:00, cpus_per_task=2
Shell command: 
        isoformer-select-canonical isoformDB/references/grch38.gencode.v29/gene_annotation.gtf.gz > isoformDB/references/grch38.gencode.v29/cannonical_genes.gff
        
Select jobs to execute...
[Thu Sep 18 17:51:16 2025]
Finished jobid: 4 (Rule: make_intervals)
1 of 5 steps (20%) done
Removing temporary output isoformDB/references/grch38.gencode.v29/gene_annotation.gtf.gz.
Execute 1 jobs...
[Thu Sep 18 17:51:16 2025]
localrule download_annotation:
    output: isoformDB/downloads/K562/transcript_annotation.gtf.gz
    jobid: 2
    reason: Missing output files: isoformDB/downloads/K562/transcript_annotation.gtf.gz
    wildcards: dataset_id=K562
    resources: tmpdir=/var/folders/tk/bdsgytmn5cb0bfqrftv10n8r0000gq/T
Shell command: wget -O isoformDB/downloads/K562/transcript_annotation.gtf.gz https://www.encodeproject.org/files/ENCFF588BMG/@@download/ENCFF588BMG.gtf.gz
Select jobs to execute...
[Thu Sep 18 17:51:20 2025]
Finished jobid: 2 (Rule: download_annotation)
2 of 5 steps (40%) done
Execute 1 jobs...
[Thu Sep 18 17:51:20 2025]
localrule download_quantitation:
    output: isoformDB/downloads/K562/quantitation.tsv
    jobid: 3
    reason: Missing output files: isoformDB/downloads/K562/quantitation.tsv
    wildcards: dataset_id=K562
    resources: tmpdir=/var/folders/tk/bdsgytmn5cb0bfqrftv10n8r0000gq/T
Shell command: wget -O isoformDB/downloads/K562/quantitation.tsv https://www.encodeproject.org/files/ENCFF448BDX/@@download/ENCFF448BDX.tsv
[Thu Sep 18 17:51:23 2025]
Finished jobid: 3 (Rule: download_quantitation)
3 of 5 steps (60%) done
Select jobs to execute...
Execute 1 jobs...
[Thu Sep 18 17:51:23 2025]
localrule write_lr_records:
    input: isoformDB/downloads/K562/transcript_annotation.gtf.gz, isoformDB/downloads/K562/quantitation.tsv, isoformDB/references/grch38.gencode.v29/cannonical_genes.gff, isoformDB/references/grch38.gencode.v29/genome.fa
    output: isoformDB/database/dataset_id=K562
    jobid: 1
    reason: Input files updated by another job: isoformDB/downloads/K562/quantitation.tsv, isoformDB/references/grch38.gencode.v29/cannonical_genes.gff, isoformDB/downloads/K562/transcript_annotation.gtf.gz
    wildcards: dataset_id=K562
    priority: 1000
    resources: tmpdir=/var/folders/tk/bdsgytmn5cb0bfqrftv10n8r0000gq/T
Shell command: 
        python write_records.py \
            '{"link":null,"description":null,"technology_name":"Sequel","reference":"grch38.gencode.v29","partition":null,"celltypes":{"K562":1.0},"is_single_cell":false,"source_data":{"quantitation":{"file":"https://www.encodeproject.org/files/ENCFF448BDX/@@download/ENCFF448BDX.tsv","weight_key":"rep2ENCSR983KDL","transcript_id_key":"annot_transcript_id","celltype_key":"celltype"},"annotation":{"file":"https://www.encodeproject.org/files/ENCFF588BMG/@@download/ENCFF588BMG.gtf.gz","transcript_id_key":"ID","gene_id_key":"geneID"},"bam_file":null},"is_long_read":true}' \
            --gene-annotation isoformDB/references/grch38.gencode.v29/cannonical_genes.gff \
            --quantitation isoformDB/downloads/K562/quantitation.tsv \
            --transcript-annotation isoformDB/downloads/K562/transcript_annotation.gtf.gz \
            --dataset-id K562 \
            --output-path isoformDB/database/
        
[Thu Sep 18 17:52:10 2025]
Finished jobid: 1 (Rule: write_lr_records)
4 of 5 steps (80%) done
Removing temporary output isoformDB/downloads/K562/transcript_annotation.gtf.gz.
Removing temporary output isoformDB/downloads/K562/quantitation.tsv.
Removing temporary output isoformDB/references/grch38.gencode.v29/cannonical_genes.gff.
Select jobs to execute...
Execute 1 jobs...
[Thu Sep 18 17:52:10 2025]
localrule all:
    input: isoformDB/database/dataset_id=K562
    jobid: 0
    reason: Input files updated by another job: isoformDB/database/dataset_id=K562
    resources: tmpdir=/var/folders/tk/bdsgytmn5cb0bfqrftv10n8r0000gq/T
Shell command: None
[Thu Sep 18 17:52:10 2025]
Finished jobid: 0 (Rule: all)
5 of 5 steps (100%) done
Complete log(s): /Users/allen/projects/dna_lang/pytorch_borzoi/isoformer/database/pipeline/.snakemake/log/2025-09-18T175059.133837.snakemake.log
