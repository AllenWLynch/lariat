Assuming unrestricted shared filesystem usage.
None
host: Allens MacBook
Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job stats:
job                        count
-----------------------  -------
all                            1
commit_reference               1
download_annotation            1
download_quantitation          1
download_ref_annotation        1
make_intervals                 1
write_lr_records               1
total                          7

Select jobs to execute...
Execute 1 jobs...
[Sun Sep 28 16:01:47 2025]
localrule download_ref_annotation:
    output: isoformDB/references/grch38.gencode.v29/gene_annotation.gtf.gz
    jobid: 5
    reason: Missing output files: isoformDB/references/grch38.gencode.v29/gene_annotation.gtf.gz
    wildcards: reference_id=grch38.gencode.v29
    resources: tmpdir=/var/folders/tk/bdsgytmn5cb0bfqrftv10n8r0000gq/T
Shell command: wget -O isoformDB/references/grch38.gencode.v29/gene_annotation.gtf.gz https://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_29/gencode.v29.basic.annotation.gtf.gz
Select jobs to execute...
[Sun Sep 28 16:01:56 2025]
Finished jobid: 5 (Rule: download_ref_annotation)
1 of 7 steps (14%) done
Execute 1 jobs...
[Sun Sep 28 16:01:56 2025]
localrule commit_reference:
    input: isoformDB/references/grch38.gencode.v29/gene_annotation.gtf.gz, isoformDB/references/grch38.gencode.v29/genome.fa
    output: isoformDB/references/grch38.gencode.v29/species.txt
    jobid: 6
    reason: Missing output files: isoformDB/references/grch38.gencode.v29/species.txt; Input files updated by another job: isoformDB/references/grch38.gencode.v29/gene_annotation.gtf.gz
    wildcards: reference_id=grch38.gencode.v29
    resources: tmpdir=/var/folders/tk/bdsgytmn5cb0bfqrftv10n8r0000gq/T
Shell command: None
Select jobs to execute...
[Sun Sep 28 16:01:57 2025]
Finished jobid: 6 (Rule: commit_reference)
2 of 7 steps (29%) done
Execute 1 jobs...
[Sun Sep 28 16:01:57 2025]
localrule make_intervals:
    input: isoformDB/references/grch38.gencode.v29/gene_annotation.gtf.gz
    output: isoformDB/references/grch38.gencode.v29/cannonical_genes.gff
    jobid: 4
    reason: Missing output files: isoformDB/references/grch38.gencode.v29/cannonical_genes.gff; Input files updated by another job: isoformDB/references/grch38.gencode.v29/gene_annotation.gtf.gz; Code has changed since last execution; Params have changed since last execution: Union of exclusive params before and now across all output: before: <nothing exclusive> now: '/Users/allen/projects/dna_lang/lariat/lariat/database/pipeline/scripts' 
    wildcards: reference_id=grch38.gencode.v29
    resources: tmpdir=/var/folders/tk/bdsgytmn5cb0bfqrftv10n8r0000gq/T, mem_mb=2000, mem_mib=1908, time=00:30:00, cpus_per_task=2
Shell command: 
        python /Users/allen/projects/dna_lang/lariat/lariat/database/pipeline/scripts/select_canonical_gene.py isoformDB/references/grch38.gencode.v29/gene_annotation.gtf.gz > isoformDB/references/grch38.gencode.v29/cannonical_genes.gff
        
Select jobs to execute...
[Sun Sep 28 16:02:10 2025]
Finished jobid: 4 (Rule: make_intervals)
3 of 7 steps (43%) done
Execute 1 jobs...
[Sun Sep 28 16:02:10 2025]
localrule download_annotation:
    output: isoformDB/downloads/K562/transcript_annotation.gtf.gz
    jobid: 2
    reason: Missing output files: isoformDB/downloads/K562/transcript_annotation.gtf.gz
    wildcards: dataset_id=K562
    resources: tmpdir=/var/folders/tk/bdsgytmn5cb0bfqrftv10n8r0000gq/T
Shell command: wget -O isoformDB/downloads/K562/transcript_annotation.gtf.gz https://www.encodeproject.org/files/ENCFF588BMG/@@download/ENCFF588BMG.gtf.gz
Select jobs to execute...
[Sun Sep 28 16:02:17 2025]
Finished jobid: 2 (Rule: download_annotation)
4 of 7 steps (57%) done
Execute 1 jobs...
[Sun Sep 28 16:02:17 2025]
localrule download_quantitation:
    output: isoformDB/downloads/K562/quantitation.tsv
    jobid: 3
    reason: Missing output files: isoformDB/downloads/K562/quantitation.tsv
    wildcards: dataset_id=K562
    resources: tmpdir=/var/folders/tk/bdsgytmn5cb0bfqrftv10n8r0000gq/T
Shell command: wget -O isoformDB/downloads/K562/quantitation.tsv https://www.encodeproject.org/files/ENCFF448BDX/@@download/ENCFF448BDX.tsv
[Sun Sep 28 16:02:21 2025]
Finished jobid: 3 (Rule: download_quantitation)
5 of 7 steps (71%) done
Select jobs to execute...
Execute 1 jobs...
[Sun Sep 28 16:02:21 2025]
localrule write_lr_records:
    input: isoformDB/downloads/K562/transcript_annotation.gtf.gz, isoformDB/downloads/K562/quantitation.tsv, isoformDB/references/grch38.gencode.v29/cannonical_genes.gff
    output: isoformDB/database/is_long_read=true/reference_id=grch38.gencode.v29/dataset_id=K562
    jobid: 1
    reason: Missing output files: isoformDB/database/is_long_read=true/reference_id=grch38.gencode.v29/dataset_id=K562; Input files updated by another job: isoformDB/references/grch38.gencode.v29/cannonical_genes.gff, isoformDB/downloads/K562/quantitation.tsv, isoformDB/downloads/K562/transcript_annotation.gtf.gz
    wildcards: is_long_read=true, reference_id=grch38.gencode.v29, dataset_id=K562
    priority: 1000
    resources: tmpdir=/var/folders/tk/bdsgytmn5cb0bfqrftv10n8r0000gq/T
Shell command: 
        python /Users/allen/projects/dna_lang/lariat/lariat/database/pipeline/scripts/write_records.py \
            --gene-annotation isoformDB/references/grch38.gencode.v29/cannonical_genes.gff \
            --quantitation isoformDB/downloads/K562/quantitation.tsv \
            --transcript-annotation isoformDB/downloads/K562/transcript_annotation.gtf.gz \
            --output-path isoformDB/database/ \
            --reference-id grch38.gencode.v29 \
--dataset-id K562 \
--weight-key rep2ENCSR983KDL \
--transcript-id-key annot_transcript_id \
--celltypes K562 \

        
RuleException:
CalledProcessError in file "/Users/allen/projects/dna_lang/lariat/lariat/database/pipeline/main.smk", line 285:
Command 'set -euo pipefail;  
        python /Users/allen/projects/dna_lang/lariat/lariat/database/pipeline/scripts/write_records.py \
            --gene-annotation isoformDB/references/grch38.gencode.v29/cannonical_genes.gff \
            --quantitation isoformDB/downloads/K562/quantitation.tsv \
            --transcript-annotation isoformDB/downloads/K562/transcript_annotation.gtf.gz \
            --output-path isoformDB/database/ \
            --reference-id grch38.gencode.v29 \
--dataset-id K562 \
--weight-key rep2ENCSR983KDL \
--transcript-id-key annot_transcript_id \
--celltypes K562 \' returned non-zero exit status 2.
[Sun Sep 28 16:02:21 2025]
Error in rule write_lr_records:
    message: None
    jobid: 1
    input: isoformDB/downloads/K562/transcript_annotation.gtf.gz, isoformDB/downloads/K562/quantitation.tsv, isoformDB/references/grch38.gencode.v29/cannonical_genes.gff
    output: isoformDB/database/is_long_read=true/reference_id=grch38.gencode.v29/dataset_id=K562
    shell:
        
        python /Users/allen/projects/dna_lang/lariat/lariat/database/pipeline/scripts/write_records.py \
            --gene-annotation isoformDB/references/grch38.gencode.v29/cannonical_genes.gff \
            --quantitation isoformDB/downloads/K562/quantitation.tsv \
            --transcript-annotation isoformDB/downloads/K562/transcript_annotation.gtf.gz \
            --output-path isoformDB/database/ \
            --reference-id grch38.gencode.v29 \
--dataset-id K562 \
--weight-key rep2ENCSR983KDL \
--transcript-id-key annot_transcript_id \
--celltypes K562 \

        
        (command exited with non-zero exit code)
Shutting down, this might take some time.
Exiting because a job execution failed. Look below for error messages
[Sun Sep 28 16:02:21 2025]
Error in rule write_lr_records:
    message: None
    jobid: 1
    input: isoformDB/downloads/K562/transcript_annotation.gtf.gz, isoformDB/downloads/K562/quantitation.tsv, isoformDB/references/grch38.gencode.v29/cannonical_genes.gff
    output: isoformDB/database/is_long_read=true/reference_id=grch38.gencode.v29/dataset_id=K562
    shell:
        
        python /Users/allen/projects/dna_lang/lariat/lariat/database/pipeline/scripts/write_records.py \
            --gene-annotation isoformDB/references/grch38.gencode.v29/cannonical_genes.gff \
            --quantitation isoformDB/downloads/K562/quantitation.tsv \
            --transcript-annotation isoformDB/downloads/K562/transcript_annotation.gtf.gz \
            --output-path isoformDB/database/ \
            --reference-id grch38.gencode.v29 \
--dataset-id K562 \
--weight-key rep2ENCSR983KDL \
--transcript-id-key annot_transcript_id \
--celltypes K562 \

        
        (command exited with non-zero exit code)
Complete log(s): /Users/allen/projects/dna_lang/lariat/lariat/database/pipeline/.snakemake/log/2025-09-28T160146.986314.snakemake.log
WorkflowError:
At least one job did not complete successfully.
